# cachete-service

There are two main containers:
- A web server to recommend searches to be cached
- A model trainer for tensorflow models from which to get recommended searches


### Usage
Most functionallity can be accessed through `make` targets:
- `make build`: Builds the project containers accordint to the specified env
- `make run`: Ups the cachete web server
- `make train-python`: Train tensorflow models locally with pure python code, no Cloud MLEngine stuff
- `make train-local`: Train tensorflow models locally through Cloud MLEngine
- `make train-cloud`: Train tensorflow models in the cloud through Cloud MLEngine
- `make hyperparameter-tuning`: Submits a hyperparamter tuning job to Cloud MLEngine
- `make adapt-input-file`: Adapts file from datarroms query result to training/testing CSV file
- `make create-model/create-version/upload-model`: Performs the appropriate operation to Cloud MLEngine models.
- `make job-logs/job-describe`: Show logs/describes a specific Cloud MLEngine job (defaults to last autogenerated jobId).
- `make tensorboard(-cloud)` Launches tensorboard with appropriate defaults.
- `make flake8`: Flake8 check

For further parameter specification take a look at the `Makefile` variables before changing the code.

#### Note
In order to use this code you need to paste you Google Service Account credendials in the `auth.json` file. You can ignore the local modifications of this file with:
```sh
git update-index --assume-unchanged auth.json
```
